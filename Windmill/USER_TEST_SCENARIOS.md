# **Windmill 사용자 테스트 시나리오**

## **📋 테스트 개요**

### **테스트 목적**
- 고도화 전후 차이점 검증
- 새로운 기능의 안정성 확인
- 사용자 경험 개선 효과 측정

### **테스트 대상**
- **주요 변경사항**: 파일 기반 → DB 기반 시스템 전환
- **신규 기능**: 사용자 그룹 관리, 감사 로그, 연결 풀 최적화
- **개선사항**: UI/UX 개선, 성능 향상, 보안 강화

### **테스트 환경**
- **브라우저**: Chrome, Firefox, Safari
- **사용자 수**: 5-10명 동시 접속
- **테스트 시간**: 약 2-3시간

---

## **🎯 핵심 테스트 영역**

### **1. 사용자 관리 시스템 (신규/개선)**

#### **1-1. 사용자 로그인/로그아웃**
**목적**: DB 기반 로그인 시스템 검증

**테스트 시나리오**:
```
TC-001: 정상 로그인
- 전제: 유효한 사용자 계정 존재
- 입력: 올바른 ID/PW
- 절차: 
  1. 로그인 페이지 접속
  2. 유효한 ID/PW 입력
  3. 로그인 버튼 클릭
- 예상결과: 메인 대시보드로 리다이렉트
- 검증포인트: 세션 생성, 권한 정보 로드

TC-002: 잘못된 로그인
- 전제: 유효하지 않은 계정 정보
- 입력: 잘못된 ID/PW
- 절차: 
  1. 로그인 페이지 접속
  2. 잘못된 ID/PW 입력
  3. 로그인 버튼 클릭
- 예상결과: 에러 메시지 표시
- 검증포인트: 계정 잠금 기능, 로그인 실패 카운트

TC-003: 세션 타임아웃
- 전제: 로그인된 상태
- 입력: 30분 대기
- 절차: 
  1. 로그인 후 30분 대기
  2. 페이지 새로고침
- 예상결과: 로그인 페이지로 리다이렉트
- 검증포인트: 세션 만료 처리
```

**주의사항**:
- ⚠️ **계정 잠금**: 5회 실패 시 계정 잠금 (30분)
- ⚠️ **세션 관리**: 30분 미사용 시 자동 로그아웃
- ⚠️ **권한 검증**: 사용자별 메뉴 접근 권한 확인

#### **1-2. 사용자 관리 (신규)**
**목적**: DB 기반 사용자 관리 기능 검증

**테스트 시나리오**:
```
TC-004: 사용자 목록 조회
- 전제: 관리자 권한으로 로그인
- 입력: 사용자 관리 메뉴 접속
- 절차: 
  1. 사용자 관리 메뉴 클릭
  2. 사용자 목록 페이지 확인
- 예상결과: 사용자 목록 표시 (페이징, 검색, 필터)
- 검증포인트: DB 기반 데이터 로드, UI 반응성

TC-005: 사용자 생성
- 전제: 관리자 권한으로 로그인
- 입력: 새 사용자 정보 (ID, 이름, 이메일, 그룹)
- 절차: 
  1. 사용자 생성 버튼 클릭
  2. 사용자 정보 입력
  3. 저장 버튼 클릭
- 예상결과: 사용자 생성 성공, 목록에 추가
- 검증포인트: 데이터베이스 저장, 권한 설정

TC-006: 사용자 수정
- 전제: 기존 사용자 존재
- 입력: 수정할 사용자 정보
- 절차: 
  1. 사용자 선택
  2. 수정 버튼 클릭
  3. 정보 수정 후 저장
- 예상결과: 사용자 정보 업데이트
- 검증포인트: 실시간 반영, 감사 로그 기록

TC-007: 사용자 삭제
- 전제: 삭제 가능한 사용자 존재
- 입력: 삭제할 사용자 선택
- 절차: 
  1. 사용자 선택
  2. 삭제 버튼 클릭
  3. 확인 다이얼로그에서 확인
- 예상결과: 사용자 삭제, 목록에서 제거
- 검증포인트: 연관 데이터 처리, 감사 로그
```

**주의사항**:
- ⚠️ **권한 확인**: 관리자만 사용자 관리 가능
- ⚠️ **데이터 무결성**: 삭제 시 연관 데이터 처리
- ⚠️ **감사 로그**: 모든 사용자 관리 작업 로그 기록

#### **1-3. 사용자 그룹 관리 (신규)**
**목적**: 신규 그룹 관리 기능 검증

**테스트 시나리오**:
```
TC-008: 그룹 목록 조회
- 전제: 관리자 권한으로 로그인
- 입력: 그룹 관리 메뉴 접속
- 절차: 
  1. 그룹 관리 메뉴 클릭
  2. 그룹 목록 확인
- 예상결과: 그룹 목록 표시 (계층 구조)
- 검증포인트: 트리 구조 표시, 멤버 수 표시

TC-009: 그룹 생성
- 전제: 관리자 권한으로 로그인
- 입력: 새 그룹 정보 (이름, 설명, 상위 그룹)
- 절차: 
  1. 그룹 생성 버튼 클릭
  2. 그룹 정보 입력
  3. 저장 버튼 클릭
- 예상결과: 그룹 생성, 트리에 추가
- 검증포인트: 계층 구조 반영, 권한 상속

TC-010: 그룹 멤버 관리
- 전제: 그룹과 사용자 존재
- 입력: 그룹에 추가할 사용자 선택
- 절차: 
  1. 그룹 선택
  2. 멤버 관리 탭 클릭
  3. 사용자 추가/제거
- 예상결과: 그룹 멤버 변경
- 검증포인트: 권한 상속, 실시간 반영
```

**주의사항**:
- ⚠️ **계층 구조**: 상위 그룹 권한이 하위 그룹에 상속
- ⚠️ **단일 그룹**: 사용자는 하나의 그룹에만 속할 수 있음
- ⚠️ **권한 상속**: 그룹 권한 변경 시 멤버들에게 자동 반영

### **2. SQL 템플릿 관리 (개선)**

#### **2-1. SQL 템플릿 조회/실행**
**목적**: DB 기반 SQL 템플릿 시스템 검증

**테스트 시나리오**:
```
TC-011: SQL 템플릿 목록 조회
- 전제: 로그인된 상태, SQL 템플릿 존재
- 입력: SQL 템플릿 관리 메뉴 접속
- 절차: 
  1. SQL 템플릿 관리 메뉴 클릭
  2. 템플릿 트리 구조 확인
- 예상결과: DB 기반 템플릿 목록 표시
- 검증포인트: 트리 구조, 권한별 필터링

TC-012: SQL 템플릿 실행
- 전제: 실행 가능한 SQL 템플릿 존재
- 입력: 템플릿 선택, 파라미터 입력
- 절차: 
  1. SQL 템플릿 선택
  2. 파라미터 입력 (필요시)
  3. 실행 버튼 클릭
- 예상결과: SQL 실행 결과 표시
- 검증포인트: 파라미터 바인딩, 결과 표시

TC-013: 감사 로그 기능
- 전제: 감사 로그가 활성화된 템플릿
- 입력: SQL 템플릿 실행
- 절차: 
  1. 감사 로그 설정 확인
  2. SQL 템플릿 실행
  3. 로그 확인
- 예상결과: 실행 로그가 DEXLOG 테이블에 저장
- 검증포인트: 로그 내용, 시간, 사용자 정보
```

**주의사항**:
- ⚠️ **권한 확인**: 사용자별 템플릿 접근 권한
- ⚠️ **파라미터 검증**: 입력 파라미터 유효성 검사
- ⚠️ **감사 로그**: 실행 이력 자동 기록

#### **2-2. SQL 템플릿 관리**
**목적**: 템플릿 CRUD 기능 검증

**테스트 시나리오**:
```
TC-014: SQL 템플릿 생성
- 전제: 관리자 권한으로 로그인
- 입력: 새 템플릿 정보 (이름, SQL, 파라미터)
- 절차: 
  1. 템플릿 생성 버튼 클릭
  2. 템플릿 정보 입력
  3. 감사 로그 설정
  4. 저장 버튼 클릭
- 예상결과: 템플릿 생성, 트리에 추가
- 검증포인트: SQL 문법 검증, 파라미터 설정

TC-015: SQL 템플릿 수정
- 전제: 기존 템플릿 존재
- 입력: 수정할 템플릿 정보
- 절차: 
  1. 템플릿 선택
  2. 수정 버튼 클릭
  3. 정보 수정 후 저장
- 예상결과: 템플릿 정보 업데이트
- 검증포인트: 버전 관리, 감사 로그
```

**주의사항**:
- ⚠️ **SQL 문법 검증**: 저장 전 SQL 문법 확인
- ⚠️ **파라미터 바인딩**: 파라미터 타입 및 기본값 설정
- ⚠️ **권한 관리**: 템플릿별 사용자/그룹 권한 설정

### **3. 데이터베이스 연결 관리 (개선)**

#### **3-1. 연결 목록 및 테스트**
**목적**: DB 기반 연결 관리 시스템 검증

**테스트 시나리오**:
```
TC-016: 연결 목록 조회
- 전제: 로그인된 상태, DB 연결 정보 존재
- 입력: 연결 관리 메뉴 접속
- 절차: 
  1. 연결 관리 메뉴 클릭
  2. 연결 목록 확인
- 예상결과: DB 기반 연결 목록 표시
- 검증포인트: 권한별 필터링, 상태 표시

TC-017: 연결 테스트
- 전제: 연결 정보 존재
- 입력: 테스트할 연결 선택
- 절차: 
  1. 연결 선택
  2. 테스트 버튼 클릭
- 예상결과: 연결 성공/실패 결과 표시
- 검증포인트: 연결 풀 상태, 응답 시간

TC-018: 동시 연결 테스트
- 전제: 다중 사용자 환경
- 입력: 여러 사용자가 동시 접속
- 절차: 
  1. 사용자 A가 연결 사용
  2. 사용자 B가 동시에 다른 연결 사용
  3. 연결 상태 확인
- 예상결과: 각 사용자별 독립적인 연결 유지
- 검증포인트: 연결 격리, 성능 영향 없음
```

**주의사항**:
- ⚠️ **연결 풀**: HikariCP 기반 연결 풀 사용
- ⚠️ **동시성**: 사용자별 독립적인 DataSource
- ⚠️ **모니터링**: 연결 상태 실시간 모니터링

### **4. 대시보드 및 UI/UX (개선)**

#### **4-1. 대시보드 기능**
**목적**: UI 개선 및 안정성 검증

**테스트 시나리오**:
```
TC-019: 대시보드 로드
- 전제: 로그인된 상태
- 입력: 메인 페이지 접속
- 절차: 
  1. 메인 대시보드 접속
  2. 차트 및 상태 카드 확인
- 예상결과: 대시보드 정상 로드
- 검증포인트: 차트 렌더링, 반응형 디자인

TC-020: 브라우저 호환성
- 전제: 다양한 브라우저 환경
- 입력: Chrome, Firefox, Safari에서 접속
- 절차: 
  1. 각 브라우저에서 로그인
  2. 주요 기능 테스트
- 예상결과: 모든 브라우저에서 정상 동작
- 검증포인트: 레이아웃, 기능, 성능

TC-021: 반응형 디자인
- 전제: 다양한 화면 크기
- 입력: 데스크톱, 태블릿, 모바일 화면
- 절차: 
  1. 화면 크기 변경
  2. UI 요소 확인
- 예상결과: 화면 크기에 맞는 레이아웃
- 검증포인트: 메뉴, 테이블, 차트 반응형
```

**주의사항**:
- ⚠️ **차트 렌더링**: Chart.js 기반 차트 안정성
- ⚠️ **색상 테마**: 일관된 색상 스키마
- ⚠️ **로딩 시간**: 3초 이내 페이지 로드

### **5. 성능 및 안정성 (개선)**

#### **5-1. 동시 사용자 테스트**
**목적**: 다중 사용자 환경 안정성 검증

**테스트 시나리오**:
```
TC-022: 동시 로그인
- 전제: 10명의 사용자 계정
- 입력: 동시에 10명 로그인
- 절차: 
  1. 10명이 동시에 로그인
  2. 각자 다른 기능 사용
- 예상결과: 모든 사용자 정상 동작
- 검증포인트: 세션 관리, 연결 풀, 메모리 사용량

TC-023: 동시 SQL 실행
- 전제: 다중 사용자 로그인 상태
- 입력: 동시에 SQL 템플릿 실행
- 절차: 
  1. 여러 사용자가 동시에 SQL 실행
  2. 성능 모니터링
- 예상결과: 각 사용자별 독립적 실행
- 검증포인트: 응답 시간, 결과 정확성

TC-024: 부하 테스트
- 전제: 정상 동작 확인
- 입력: 연속적인 요청 발생
- 절차: 
  1. 100회 연속 로그인/로그아웃
  2. 50회 연속 SQL 실행
- 예상결과: 안정적인 성능 유지
- 검증포인트: 메모리 누수, 응답 시간
```

**주의사항**:
- ⚠️ **메모리 관리**: 연결 풀 자동 정리 (10분)
- ⚠️ **세션 관리**: 30분 타임아웃
- ⚠️ **성능 모니터링**: CPU, 메모리 사용량 추적

---

## **📊 테스트 체크리스트**

### **기능별 테스트 완료 체크**

#### **사용자 관리**
- [ ] TC-001: 정상 로그인
- [ ] TC-002: 잘못된 로그인
- [ ] TC-003: 세션 타임아웃
- [ ] TC-004: 사용자 목록 조회
- [ ] TC-005: 사용자 생성
- [ ] TC-006: 사용자 수정
- [ ] TC-007: 사용자 삭제
- [ ] TC-008: 그룹 목록 조회
- [ ] TC-009: 그룹 생성
- [ ] TC-010: 그룹 멤버 관리

#### **SQL 템플릿 관리**
- [ ] TC-011: SQL 템플릿 목록 조회
- [ ] TC-012: SQL 템플릿 실행
- [ ] TC-013: 감사 로그 기능
- [ ] TC-014: SQL 템플릿 생성
- [ ] TC-015: SQL 템플릿 수정

#### **데이터베이스 연결**
- [ ] TC-016: 연결 목록 조회
- [ ] TC-017: 연결 테스트
- [ ] TC-018: 동시 연결 테스트

#### **UI/UX**
- [ ] TC-019: 대시보드 로드
- [ ] TC-020: 브라우저 호환성
- [ ] TC-021: 반응형 디자인

#### **성능 및 안정성**
- [ ] TC-022: 동시 로그인
- [ ] TC-023: 동시 SQL 실행
- [ ] TC-024: 부하 테스트

---

## **⚠️ 주요 주의사항**

### **테스트 전 준비사항**
1. **데이터 백업**: 테스트 전 기존 데이터 백업 필수
2. **테스트 계정**: 충분한 테스트 계정 준비 (관리자, 일반 사용자)
3. **브라우저 준비**: Chrome, Firefox, Safari 설치
4. **네트워크 환경**: 안정적인 네트워크 연결 확인

### **테스트 중 주의사항**
1. **동시 접속**: 10명 이상 동시 접속 시 성능 모니터링
2. **데이터 무결성**: 사용자/그룹 삭제 시 연관 데이터 확인
3. **세션 관리**: 30분 타임아웃으로 인한 자동 로그아웃 주의
4. **권한 확인**: 각 사용자별 메뉴 접근 권한 검증

### **테스트 후 확인사항**
1. **로그 확인**: DEXLOG 테이블의 감사 로그 검증
2. **성능 지표**: 응답 시간, 메모리 사용량 확인
3. **데이터 정합성**: DB 기반 데이터 일관성 확인
4. **오류 로그**: 시스템 오류 로그 점검

---

## **📝 테스트 결과 기록**

### **테스트 결과 양식**
```
테스트 케이스: TC-XXX
테스터: [이름]
테스트 일시: [날짜/시간]
결과: [성공/실패/블로킹]
소요 시간: [분]
비고: [특이사항, 오류 내용 등]
```

### **버그 리포트 양식**
```
버그 ID: BUG-XXX
발생 위치: [화면/기능]
재현 단계: [1, 2, 3...]
예상 결과: [기대하는 동작]
실제 결과: [실제 발생한 동작]
심각도: [Critical/Major/Minor]
우선순위: [High/Medium/Low]
```

---

**작성일**: 2025년 8월 13일  
**작성자**: Windmill 개발팀  
**버전**: 1.0
