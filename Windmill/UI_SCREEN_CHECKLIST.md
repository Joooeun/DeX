# **Windmill 화면 수정 및 신규 생성 체크리스트**

## **📋 개요**
파일 기반 시스템에서 데이터베이스 기반 시스템으로 이전하기 위한 화면 수정 및 신규 생성 작업 체크리스트입니다.

---

## **🔍 현재 사용자 관리 시스템 상태**

### **✅ 완료된 부분 (DB 기반)**
- **UserService** - DB 기반 사용자 관리 서비스 구현 완료
- **UserController** - DB 기반 사용자 관리 API 구현 완료
- **User.jsp** - DB 기반 사용자 관리 화면 구현 완료
- **LoginController** - DB 기반 로그인 처리 구현 완료
- **PermissionService** - 권한 관리 서비스 구현 완료

### **⚠️ 미완료된 부분 (파일 기반 혼재)**
- **Common.java** - 여전히 파일 기반 사용자 정보 로딩 (`UserConf`, `UserList`)
- **LoginController** - 일부 파일 기반 로직 남아있음
- **UserMigrationUtil** - 마이그레이션 도구는 있지만 실제 실행 안됨

---

## **👥 1순위: 사용자 관리 완성**

### **1. User.jsp (사용자 관리)**
**현재**: DB 기반 사용자 관리 (완료)
**완성 필요**:
- [x] **완료**: 사용자 목록 조회 ✅
- [x] **완료**: 사용자 생성/수정/삭제 ✅
- [x] **완료**: 그룹 할당 기능 ✅
- [x] **완료**: 사용자 권한 상세 관리 ✅
- [x] **완료**: 사용자 활동 로그 조회 ✅
- [x] **완료**: 파일 기반 → DB 기반 사용자 정보 로딩 완전 전환 ✅

**예상 소요 시간**: 2-3일
**실제 소요 시간**: 1일

### **2. UserGroup.jsp (신규)**
**목적**: 사용자 그룹 전용 관리
**신규 생성**:
- [x] **완료**: 사용자 그룹 목록 조회 ✅
- [x] **완료**: 그룹 생성/수정/삭제 ✅
- [x] **완료**: 그룹별 권한 설정 ✅
- [x] **완료**: 그룹 멤버 관리 ✅
- [x] **완료**: 그룹 계층 구조 관리 ✅

**예상 소요 시간**: 3-4일
**실제 소요 시간**: 1일

### **3. UserPermission.jsp (신규)**
**목적**: 사용자별 권한 상세 관리
**신규 생성**:
- [ ] **신규 생성**: 사용자별 권한 조회
- [ ] **신규 생성**: SQL 템플릿 권한 설정
- [ ] **신규 생성**: 연결 정보 권한 설정
- [ ] **신규 생성**: 권한 상세 설정
- [ ] **신규 생성**: 권한 그룹 복사 기능

**예상 소요 시간**: 3-4일

---

## **🏗️ 2순위: 핵심 기능 화면**

### **4. Connection.jsp (연결 관리)**
**현재**: 파일 기반 연결 정보 관리
**수정 필요**:
- [ ] **수정 필요**: 파일 기반 → DB 기반 연결 목록 조회
- [ ] **수정 필요**: 연결 정보 저장 로직 변경
- [ ] **신규 추가**: 연결 테스트 기능
- [ ] **신규 추가**: SFTP 연결 관리 탭
- [ ] **신규 추가**: 연결 풀 설정 관리

**예상 소요 시간**: 3-4일

### **5. SQLTemplate.jsp (SQL 템플릿 관리)**
**현재**: 파일 기반 SQL 템플릿 관리
**수정 필요**:
- [ ] **수정 필요**: 파일 기반 → DB 기반 SQL 템플릿 트리
- [ ] **수정 필요**: SQL 템플릿 CRUD 로직 변경
- [ ] **신규 추가**: 파라미터 관리 기능
- [ ] **신규 추가**: 단축키 관리 기능
- [ ] **신규 추가**: 버전 관리 기능

**예상 소요 시간**: 4-5일

### **6. SQL.jsp (SQL 실행)**
**현재**: 파일 기반 SQL 실행
**수정 필요**:
- [ ] **수정 필요**: 파일 기반 → DB 기반 SQL 템플릿 로드
- [ ] **수정 필요**: 파라미터 처리 로직 변경
- [ ] **수정 필요**: 단축키 처리 로직 변경
- [ ] **신규 추가**: 파라미터 검증 기능

**예상 소요 시간**: 3-4일

---

## **⚡ 3순위: 관리 기능 화면**

### **7. SystemSetting.jsp (신규)**
**목적**: system.properties 파일을 DB로 관리
**신규 생성**:
- [ ] **신규 생성**: 시스템 설정 목록 조회
- [ ] **신규 생성**: 설정 값 수정 기능
- [ ] **신규 생성**: 설정 카테고리별 관리
- [ ] **신규 생성**: 설정 검증 기능
- [ ] **신규 생성**: 설정 백업/복원 기능

**예상 소요 시간**: 2-3일

### **8. DatabaseConnection.jsp (신규)**
**목적**: DB 연결 정보 전용 관리
**신규 생성**:
- [ ] **신규 생성**: DB 연결 목록 조회
- [ ] **신규 생성**: DB 연결 생성/수정/삭제
- [ ] **신규 생성**: 연결 풀 설정 관리
- [ ] **신규 생성**: 연결 테스트 기능
- [ ] **신규 생성**: 연결 상태 모니터링

**예상 소요 시간**: 3-4일

### **9. SftpConnection.jsp (신규)**
**목적**: SFTP 연결 정보 전용 관리
**신규 생성**:
- [ ] **신규 생성**: SFTP 연결 목록 조회
- [ ] **신규 생성**: SFTP 연결 생성/수정/삭제
- [ ] **신규 생성**: 개인키 관리 기능
- [ ] **신규 생성**: 연결 테스트 기능
- [ ] **신규 생성**: 원격 경로 설정

**예상 소요 시간**: 2-3일

### **10. FileRead.jsp (파일 읽기)**
**현재**: SFTP 연결 기반 파일 읽기
**수정 필요**:
- [ ] **수정 필요**: 파일 기반 → DB 기반 SFTP 연결 정보 로드
- [ ] **신규 추가**: SFTP 연결 선택 기능
- [ ] **신규 추가**: 파일 업로드 기능

**예상 소요 시간**: 1-2일

---

## **🔧 4순위: 부가 기능 화면**

### **11. SqlParameter.jsp (신규)**
**목적**: SQL 템플릿의 파라미터 전용 관리
**신규 생성**:
- [ ] **신규 생성**: SQL 파라미터 목록 조회
- [ ] **신규 생성**: 파라미터 생성/수정/삭제
- [ ] **신규 생성**: 파라미터 타입별 관리
- [ ] **신규 생성**: 기본값 설정 기능
- [ ] **신규 생성**: 파라미터 검증 규칙

**예상 소요 시간**: 2-3일

### **12. SqlShortcut.jsp (신규)**
**목적**: SQL 템플릿의 단축키 전용 관리
**신규 생성**:
- [ ] **신규 생성**: SQL 단축키 목록 조회
- [ ] **신규 생성**: 단축키 생성/수정/삭제
- [ ] **신규 생성**: 소스/타겟 템플릿 연결
- [ ] **신규 생성**: 컬럼 인덱스 설정
- [ ] **신규 생성**: 자동 실행 설정

**예상 소요 시간**: 2-3일

### **13. dashboard.jsp (대시보드)**
**현재**: 파일 기반 대시보드 SQL 실행
**수정 필요**:
- [ ] **수정 필요**: 파일 기반 → DB 기반 대시보드 SQL 로드
- [ ] **수정 필요**: 차트 설정 DB 기반으로 변경
- [ ] **신규 추가**: 대시보드 템플릿 관리
- [ ] **신규 추가**: 차트 타입별 설정

**예상 소요 시간**: 3-4일

---

## **📊 5순위: 시스템 관리**

### **14. AuditLog.jsp (신규)**
**목적**: 감사 로그 관리
**신규 생성**:
- [ ] **신규 생성**: 감사 로그 목록 조회
- [ ] **신규 생성**: 로그 필터링 기능
- [ ] **신규 생성**: 로그 상세 조회
- [ ] **신규 생성**: 로그 내보내기 기능

**예상 소요 시간**: 2-3일

### **15. SystemMonitor.jsp (신규)**
**목적**: 시스템 모니터링
**신규 생성**:
- [ ] **신규 생성**: 시스템 상태 모니터링
- [ ] **신규 생성**: 연결 풀 상태 조회
- [ ] **신규 생성**: 사용자 세션 관리
- [ ] **신규 생성**: 성능 지표 조회

**예상 소요 시간**: 3-4일

---

## **📅 화면 개발 일정 계획**

### **👥 긴급 (1-2주)**
1. **User.jsp 완성** (2-3일)
2. **UserGroup.jsp 신규** (3-4일)
3. **UserPermission.jsp 신규** (3-4일)

**총 소요 시간**: 8-11일

### **🏗️ 중요 (2-3주)**
4. **Connection.jsp 수정** (3-4일)
5. **SQLTemplate.jsp 수정** (4-5일)
6. **SQL.jsp 수정** (3-4일)

**총 소요 시간**: 10-13일

### **⚡ 개선 (3-4주)**
7. **SystemSetting.jsp 신규** (2-3일)
8. **DatabaseConnection.jsp 신규** (3-4일)
9. **SftpConnection.jsp 신규** (2-3일)
10. **FileRead.jsp 수정** (1-2일)

**총 소요 시간**: 8-12일

### **🔧 완성 (4-5주)**
11. **SqlParameter.jsp 신규** (2-3일)
12. **SqlShortcut.jsp 신규** (2-3일)
13. **dashboard.jsp 수정** (3-4일)

**총 소요 시간**: 7-10일

### **📊 모니터링 (5-6주)**
14. **AuditLog.jsp 신규** (2-3일)
15. **SystemMonitor.jsp 신규** (3-4일)

**총 소요 시간**: 5-7일

---

## **📊 전체 개발 일정**

### **총 예상 소요 시간**: 35-50일 (7-10주)

### **주요 마일스톤**
- **1주차**: 핵심 기능 화면 수정 완료
- **2-3주차**: 관리 기능 화면 신규 생성 완료
- **4-5주차**: 부가 기능 화면 신규 생성 완료
- **6-7주차**: 사용자 관리 완성
- **8-10주차**: 시스템 관리 화면 신규 생성 완료

---

## **⚠️ 고려사항**

### **기술적 고려사항**
1. **점진적 마이그레이션**: 파일 기반과 DB 기반을 병행 운영 가능하도록 설계
2. **호환성 유지**: 기존 API 인터페이스 유지
3. **사용자 경험**: 기존 사용자들이 익숙한 UI/UX 유지
4. **성능**: DB 조회 성능 최적화

### **개발 고려사항**
1. **테스트**: 각 화면별 단위 테스트 및 통합 테스트
2. **문서화**: 화면별 사용자 매뉴얼 작성
3. **배포**: 점진적 배포로 위험 최소화
4. **롤백**: 문제 발생 시 기존 시스템으로 복구 가능

---

## **📝 진행 상황 추적**

### **진행 중인 작업**
- [ ] 현재 진행 중인 작업 없음

### **완료된 작업**
- [x] 사용자 관리 기본 기능 (User.jsp)
- [x] 사용자 권한 상세 관리 기능
- [x] 사용자 활동 로그 조회 기능
- [x] 파일 기반 → DB 기반 사용자 정보 로딩 완전 전환
- [x] 사용자 그룹 관리 기능 (UserGroup.jsp)
- [x] 그룹별 권한 설정 기능
- [x] 그룹 멤버 관리 기능
- [x] 그룹 계층 구조 관리 기능
- [x] 로그인 시스템 DB 기반 전환
- [x] 권한 관리 시스템 구현
- [x] 사용자 관리 UI/UX 개선 (그룹 통합, 검색, 페이징)
- [x] 보안 시스템 강화 (비밀번호 암호화, 계정 잠금)
- [x] 데이터베이스 스키마 설계 및 구현
- [x] 단일 그룹 정책 적용
- [x] 통합 스키마 파일 생성

### **다음 작업**
1. UserPermission.jsp 신규 생성 시작

---

**작성일**: 2025년 8월 12일  
**작성자**: Windmill 개발팀  
**버전**: 1.1
